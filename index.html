<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encriptador By: JDMF</title>
    <link rel="stylesheet" href="style.css">
    <script>
        var vocalesEncrip = {
            "a": "ai" , "e": "enter" , "i": "imes" , "o": "ober", "u": "ufat"
        };
        var vocalesDeencrip = {
            "ai": "a" , "enter": "e" , "imes": "i" , "ober": "o", "ufat": "u"
        };
        function Encriptar() {
            let texto = document.getElementById("itxt").value;
            var nuevotexto = texto.replace(/[aeiou]/g, function(match){
                return vocalesEncrip[match];
            });
            document.getElementById("otxt").value = nuevotexto;                          
        }
        function Desencriptar() {
            let texto = document.getElementById("itxt").value;
            var nuevotexto = texto.replace(/ai|enter|imes|ober|ufat/g, function(match){
                return vocalesDeencrip[match];
            });
            document.getElementById("otxt").value = nuevotexto;                          
        }
        function ValidarTexto(){
            var verificardor = false;
            let texto = document.getElementById("itxt").value;
            acentos = /[áéíóúÁÉÍÓÚ]/;
            mayus = /[A-Z]/; 
            if (acentos.test(texto) || mayus.test(texto)) {
                verificardor = true;
            }
            if (verificardor == false){                  
                Encriptar();
            }else{
                alert("Evite usar acentos o mayúsculas en el texto");
            }
        }
        function Copiarotxt(){
            var textareaElement = document.getElementById("otxt");
            textareaElement.select();
            document.execCommand("copy");
            alert("Texto copiado al portapapeles: " + textareaElement.value);
        } 
        
    </script>
</head>
<body>
    <div class="box">

        <textarea id="itxt" type="text" rows="15" cols="30" placeholder="Ingrese el texto aqui"></textarea>
        <p>Solo letras minúscilas y sin acentos</p>
        <button class="btnC" type="button" onclick="ValidarTexto()">Encriptar</button>
        <button class="btnD" type="button" onclick="Desencriptar()">Desencriptar</button>

        <div class="box2">

            <textarea id="otxt" type="text" rows="15" cols="30"></textarea>
            <button class="copy" type="button" onclick="Copiarotxt()">Copiar!</button>
        
        </div>
    </div>
    
</body>
</html>